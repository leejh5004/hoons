<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TWOHOONS GARAGE</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1e40af">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="TWOHOONS GARAGE">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage-compat.js"></script>
    <script src="firebase-config.js"></script>
    
    <!-- PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    
    <!-- QR Code Generation -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>

<body>
    <!-- Top Header (Fixed) -->
    <header class="top-header">
        <div class="header-content">
            <div class="header-left">
                <img src="logo.png" alt="TWOHOONS" class="header-logo">
                <span class="header-title">TWOHOONS</span>
            </div>
            <div class="header-right">
                <button class="header-btn" id="themeToggle" title="Îã§ÌÅ¨Î™®Îìú Ï†ÑÌôò">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="header-btn notification-btn" id="notificationBtn" title="ÏïåÎ¶º">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationBadge">0</span>
                </button>
                <button class="header-btn profile-btn" id="profileBtn" title="ÌîÑÎ°úÌïÑ">
                    <i class="fas fa-user-circle"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Login Screen -->
        <div id="loginScreen" class="screen active">
            <div class="auth-container">
                <div class="auth-header">
                    <img src="logo.png" alt="TWOHOONS GARAGE" class="auth-logo">
                    <h1 class="auth-title">TWOHOONS GARAGE</h1>
                    <p class="auth-subtitle">Ïù¥Î•úÏ∞® Ï†ïÎπÑ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</p>
                </div>
                
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Î°úÍ∑∏Ïù∏</button>
                    <button class="auth-tab" data-tab="register">ÌöåÏõêÍ∞ÄÏûÖ</button>
                </div>
                
                <!-- Login Form -->
                <form id="loginForm" class="auth-form active">
                    <div class="input-group">
                        <i class="fas fa-envelope input-icon"></i>
                        <input type="email" id="loginEmail" placeholder="Ïù¥Î©îÏùº" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-lock input-icon"></i>
                        <input type="password" id="loginPassword" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏" required>
                    </div>
                    <button type="submit" class="auth-btn">
                        <i class="fas fa-sign-in-alt"></i>
                        Î°úÍ∑∏Ïù∏
                    </button>
                </form>
                
                <!-- Register Form -->
                <form id="registerForm" class="auth-form">
                    <div class="input-group">
                        <i class="fas fa-user input-icon"></i>
                        <input type="text" id="registerName" placeholder="Ïù¥Î¶Ñ" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-envelope input-icon"></i>
                        <input type="email" id="registerEmail" placeholder="Ïù¥Î©îÏùº" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-lock input-icon"></i>
                        <input type="password" id="registerPassword" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ (6Ïûê Ïù¥ÏÉÅ)" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-motorcycle input-icon"></i>
                        <input type="text" id="registerCarNumber" placeholder="Ïò§ÌÜ†Î∞îÏù¥ Î≤àÌò∏ (Ïòà: 12Í∞Ä3456)" required>
                    </div>
                    <button type="submit" class="auth-btn">
                        <i class="fas fa-user-plus"></i>
                        ÌöåÏõêÍ∞ÄÏûÖ
                    </button>
                </form>
            </div>
        </div>

        <!-- Main Dashboard Screen -->
        <div id="dashboardScreen" class="screen">
            <!-- Dashboard Stats -->
            <div class="dashboard-stats">
                <div class="stat-card" data-stat="today">
                    <div class="stat-icon today">
                        <i class="fas fa-calendar-day"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="todayCount">0</h3>
                        <p class="stat-label">Ïò§Îäò Ï†ïÎπÑ</p>
                    </div>
                </div>
                
                <div class="stat-card" data-stat="pending">
                    <div class="stat-icon pending">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="pendingCount">0</h3>
                                                        <p class="stat-label">ÌôïÏù∏ ÎåÄÍ∏∞</p>
                    </div>
                </div>
                
                <div class="stat-card" data-stat="month">
                    <div class="stat-icon month">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="monthCount">0</h3>
                        <p class="stat-label">Ïù¥Î≤à Îã¨</p>
                    </div>
                </div>
                
                <div class="stat-card" data-stat="average">
                    <div class="stat-icon average">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="averageDays">0</h3>
                        <p class="stat-label">ÌèâÍ∑† Í∞ÑÍ≤©</p>
                    </div>
                </div>
            </div>

            <!-- Quick Search & Filters -->
            <div class="search-section">
                <div class="search-bar">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="quickSearch" placeholder="Ï†ïÎπÑ Ïù¥Î†• Í≤ÄÏÉâ...">
                    <button class="filter-toggle" id="filterToggle">
                        <i class="fas fa-filter"></i>
                    </button>
                </div>
                
                <div class="filter-chips" id="filterChips">
                    <div class="filter-chip active" data-filter="all">
                        <i class="fas fa-list"></i>
                        Ï†ÑÏ≤¥
                    </div>
                    <div class="filter-chip" data-filter="in-progress">
                        <i class="fas fa-cog fa-spin"></i>
                        ÏßÑÌñâÏ§ë
                    </div>
                    <div class="filter-chip" data-filter="completed">
                        <i class="fas fa-check"></i>
                        ÏôÑÎ£åÎê®
                    </div>
                    <div class="filter-chip" data-filter="approved">
                        <i class="fas fa-check-double"></i>
                                                                ÌôïÏù∏
                    </div>
                    <div class="filter-chip" data-filter="rejected">
                        <i class="fas fa-times"></i>
                        Í±∞Ï†à
                    </div>
                </div>
            </div>

            <!-- Maintenance Timeline -->
            <div class="timeline-section">
                <div class="timeline-header">
                    <h2 class="timeline-title">
                        <i class="fas fa-history"></i>
                        Ï†ïÎπÑ Ïù¥Î†•
                    </h2>
                    <div class="timeline-actions">
                        <button class="view-toggle" id="viewToggle" title="Î≥¥Í∏∞ Ï†ÑÌôò">
                            <i class="fas fa-th-large"></i>
                        </button>
                    </div>
                </div>
                
                <div class="timeline-container" id="timelineContainer">
                    <div class="loading-spinner" id="loadingSpinner">
                        <div class="spinner"></div>
                        <p>Ï†ïÎπÑ Ïù¥Î†•ÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</p>
                    </div>
                    
                    <div class="timeline-content" id="timelineContent">
                        <!-- Maintenance cards will be dynamically inserted here -->
                    </div>
                    
                    <div class="empty-state" id="emptyState" style="display: none;">
                        <i class="fas fa-inbox"></i>
                        <h3>Ï†ïÎπÑ Ïù¥Î†•Ïù¥ ÏóÜÏäµÎãàÎã§</h3>
                        <p>Ï≤´ Î≤àÏß∏ Ï†ïÎπÑÎ•º Îì±Î°ùÌï¥Î≥¥ÏÑ∏Ïöî!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <button class="fab" id="addMaintenanceFab" title="ÏÉà Ï†ïÎπÑ Îì±Î°ù">
        <i class="fas fa-plus"></i>
    </button>

    <!-- Scroll to Top Button -->
    <button class="scroll-to-top" id="scrollToTopBtn" title="Îß® ÏúÑÎ°ú" style="display: none;">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-screen="dashboard">
            <i class="fas fa-home"></i>
            <span>Ìôà</span>
        </button>
        <button class="nav-item" data-screen="add">
            <i class="fas fa-plus-circle"></i>
            <span>Îì±Î°ù</span>
        </button>
        <button class="nav-item" data-screen="search">
            <i class="fas fa-search"></i>
            <span>Í≤ÄÏÉâ</span>
        </button>
        <button class="nav-item" data-screen="profile">
            <i class="fas fa-user"></i>
            <span>ÌîÑÎ°úÌïÑ</span>
        </button>
    </nav>

    <!-- Maintenance Input Modal -->
    <div id="maintenanceModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-tools"></i>
                    ÏÉà Ï†ïÎπÑ Îì±Î°ù
                </h2>
                <button class="modal-close" onclick="closeMaintenanceModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <form id="maintenanceForm" class="maintenance-form">
                    <!-- Step 1: Basic Info -->
                    <div class="form-step active" data-step="1">
                        <div class="step-header">
                            <h3>Í∏∞Î≥∏ Ï†ïÎ≥¥</h3>
                            <span class="step-indicator">1/3</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="carNumber">Ïò§ÌÜ†Î∞îÏù¥ Î≤àÌò∏</label>
                            <div class="input-with-icon">
                                <i class="fas fa-motorcycle"></i>
                                <input type="text" id="carNumber" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="maintenanceDate">Ï†ïÎπÑ ÎÇ†Ïßú</label>
                                <div class="input-with-icon">
                                    <i class="fas fa-calendar"></i>
                                    <input type="date" id="maintenanceDate" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="mileage">ÌÇ§Î°úÏàò</label>
                                <div class="input-with-icon">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <input type="number" id="mileage" placeholder="Ï£ºÌñâÍ±∞Î¶¨">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="maintenanceType">Ï†ïÎπÑ Ï¢ÖÎ•ò</label>
                            <div class="type-selector">
                                <div class="type-option" data-type="ÏùºÎ∞òÏ†êÍ≤Ä">
                                    <i class="fas fa-search"></i>
                                    <span>ÏùºÎ∞òÏ†êÍ≤Ä</span>
                                </div>
                                <div class="type-option" data-type="ÏóîÏßÑÏò§ÏùºÍµêÏ≤¥">
                                    <i class="fas fa-oil-can"></i>
                                    <span>ÏóîÏßÑÏò§ÏùºÍµêÏ≤¥</span>
                                </div>
                                <div class="type-option" data-type="ÌÉÄÏù¥Ïñ¥ÍµêÏ≤¥">
                                    <i class="fas fa-circle"></i>
                                    <span>ÌÉÄÏù¥Ïñ¥ÍµêÏ≤¥</span>
                                </div>
                                <div class="type-option" data-type="Î∏åÎ†àÏù¥ÌÅ¨Ï†ïÎπÑ">
                                    <i class="fas fa-stop-circle"></i>
                                    <span>Î∏åÎ†àÏù¥ÌÅ¨Ï†ïÎπÑ</span>
                                </div>
                                <div class="type-option" data-type="Í∏∞ÌÉÄ">
                                    <i class="fas fa-wrench"></i>
                                    <span>Í∏∞ÌÉÄ</span>
                                </div>
                            </div>
                            <input type="hidden" id="maintenanceType" required>
                        </div>
                    </div>
                    
                    <!-- Step 2: Photos -->
                    <div class="form-step" data-step="2">
                        <div class="step-header">
                            <h3>Ï†ïÎπÑ ÏÇ¨ÏßÑ</h3>
                            <span class="step-indicator">2/3</span>
                        </div>
                        
                        <div class="photo-upload-section">
                            <div class="photo-upload-item">
                                <div class="photo-upload-area" data-type="before">
                                    <input type="file" id="beforePhoto" accept="image/*" style="display: none;">
                                    <div class="upload-placeholder">
                                        <i class="fas fa-camera"></i>
                                        <span>Ï†ïÎπÑ Ï†Ñ</span>
                                        <small>ÏÇ¨ÏßÑÏùÑ Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî</small>
                                    </div>
                                    <div class="photo-preview" style="display: none;">
                                        <img src="" alt="Ï†ïÎπÑ Ï†Ñ">
                                        <button type="button" class="remove-photo">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-upload-item">
                                <div class="photo-upload-area" data-type="during">
                                    <input type="file" id="duringPhoto" accept="image/*" style="display: none;">
                                    <div class="upload-placeholder">
                                        <i class="fas fa-camera"></i>
                                        <span>Ï†ïÎπÑ Ï§ë</span>
                                        <small>ÏÇ¨ÏßÑÏùÑ Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî</small>
                                    </div>
                                    <div class="photo-preview" style="display: none;">
                                        <img src="" alt="Ï†ïÎπÑ Ï§ë">
                                        <button type="button" class="remove-photo">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="photo-upload-item">
                                <div class="photo-upload-area" data-type="after">
                                    <input type="file" id="afterPhoto" accept="image/*" style="display: none;">
                                    <div class="upload-placeholder">
                                        <i class="fas fa-camera"></i>
                                        <span>Ï†ïÎπÑ ÌõÑ</span>
                                        <small>ÏÇ¨ÏßÑÏùÑ Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî</small>
                                    </div>
                                    <div class="photo-preview" style="display: none;">
                                        <img src="" alt="Ï†ïÎπÑ ÌõÑ">
                                        <button type="button" class="remove-photo">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="photo-retention-notice">
                            <i class="fas fa-info-circle"></i>
                            <small>üì∏ ÏóÖÎ°úÎìúÎêú ÏÇ¨ÏßÑÏùÄ 30Ïùº ÌõÑ ÏûêÎèô ÏÇ≠Ï†úÎê©ÎãàÎã§.</small>
                            <br>
                            <small style="margin-top: 4px; display: block; font-size: 12px; opacity: 0.8;">
                                üí° ÏÇ≠Ï†ú 5Ïùº Ï†ÑÎ∂ÄÌÑ∞ Í≤ΩÍ≥† ÏïåÎ¶ºÏù¥ ÌëúÏãúÎêòÎ©∞, ÏÉÅÏÑ∏Î≥¥Í∏∞ÏóêÏÑú Îã§Ïö¥Î°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.
                            </small>
                        </div>
                    </div>
                    
                    <!-- Step 3: Description -->
                    <div class="form-step" data-step="3">
                        <div class="step-header">
                            <h3>ÏÉÅÏÑ∏ ÏÑ§Î™Ö</h3>
                            <span class="step-indicator">3/3</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="description">Ï†ïÎπÑ ÎÇ¥Ïö©</label>
                            <textarea id="description" rows="6" placeholder="Ï†ïÎπÑ ÎÇ¥Ïö©ÏùÑ ÏûêÏÑ∏Ìûà ÏÑ§Î™ÖÌï¥Ï£ºÏÑ∏Ïöî..." required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="tags">ÌÉúÍ∑∏ (ÏÑ†ÌÉùÏÇ¨Ìï≠)</label>
                            <div class="input-with-icon">
                                <i class="fas fa-hashtag"></i>
                                <input type="text" id="tags" placeholder="Ïòà: #Ï†ïÍ∏∞Ï†êÍ≤Ä #Ïò§ÏùºÍµêÏ≤¥">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="prevStep" style="display: none;">
                    <i class="fas fa-arrow-left"></i>
                    Ïù¥Ï†Ñ
                </button>
                <button type="button" class="btn btn-primary" id="nextStep">
                    Îã§Ïùå
                    <i class="fas fa-arrow-right"></i>
                </button>
                <button type="submit" class="btn btn-success" id="submitForm" style="display: none;" form="maintenanceForm">
                    <i class="fas fa-save"></i>
                    Ï†ÄÏû•
                </button>
            </div>
        </div>
    </div>

    <!-- Maintenance Detail Modal -->
    <div id="detailModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-info-circle"></i>
                    Ï†ïÎπÑ ÏÉÅÏÑ∏
                </h2>
                <button class="modal-close" onclick="closeDetailModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body" id="detailModalBody">
                <!-- Detail content will be dynamically inserted -->
            </div>
        </div>
    </div>

    <!-- Estimate Search Modal -->
    <div id="estimateSearchModal" class="modal-overlay">
        <div class="modal-container" style="max-width: 400px;">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-search"></i>
                    Í≤¨Ï†ÅÏÑú Ï°∞Ìöå
                </h2>
                <button class="modal-close" onclick="closeEstimateSearchModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="form-group">
                    <label for="estimateNumberInput">Í≤¨Ï†ÅÏÑú Î≤àÌò∏</label>
                    <div class="input-with-icon">
                        <i class="fas fa-receipt"></i>
                        <input type="text" id="estimateNumberInput" placeholder="000000" maxlength="6" pattern="[0-9]{6}">
                    </div>
                    <small style="color: var(--text-tertiary); margin-top: 8px; display: block;">
                        üí° Í≤¨Ï†ÅÏÑú PDF ÌïòÎã®Ïóê ÌëúÏãúÎêú 6ÏûêÎ¶¨ Î≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî
                    </small>
                </div>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeEstimateSearchModal()">
                    <i class="fas fa-times"></i>
                    Ï∑®ÏÜå
                </button>
                <button type="button" class="btn btn-primary" onclick="handleEstimateSearchSubmit()">
                    <i class="fas fa-search"></i>
                    Ï°∞Ìöå
                </button>
            </div>
        </div>
    </div>

    <!-- Estimate Detail Modal -->
    <div id="estimateDetailModal" class="modal-overlay">
        <div class="modal-container" style="max-width: 600px;">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-receipt"></i>
                    Í≤¨Ï†ÅÏÑú ÏÉÅÏÑ∏
                </h2>
                <button class="modal-close" onclick="closeEstimateDetailModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body" id="estimateDetailBody">
                <!-- Content will be dynamically inserted -->
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeEstimateDetailModal()">
                    <i class="fas fa-times"></i>
                    Îã´Í∏∞
                </button>
                <button type="button" class="btn btn-primary" onclick="showEstimateSearchModal()">
                    <i class="fas fa-search"></i>
                    Îã§Ïãú Ï°∞Ìöå
                </button>
            </div>
        </div>
    </div>

    <!-- Monthly Estimate Download Modal -->
    <div id="monthlyEstimateModal" class="modal-overlay">
        <div class="modal-container" style="max-width: 500px;">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-download"></i>
                    ÏõîÎ≥Ñ Í≤¨Ï†ÅÏÑú Îã§Ïö¥Î°úÎìú
                </h2>
                <button class="modal-close" onclick="closeMonthlyEstimateModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="form-group">
                    <label for="downloadYear">üìÖ Ïó∞ÎèÑ</label>
                    <select id="downloadYear" class="form-control">
                        <!-- Will be populated dynamically -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="downloadMonth">üìÖ Ïõî</label>
                    <select id="downloadMonth" class="form-control">
                        <option value="1">1Ïõî</option>
                        <option value="2">2Ïõî</option>
                        <option value="3">3Ïõî</option>
                        <option value="4">4Ïõî</option>
                        <option value="5">5Ïõî</option>
                        <option value="6">6Ïõî</option>
                        <option value="7">7Ïõî</option>
                        <option value="8">8Ïõî</option>
                        <option value="9">9Ïõî</option>
                        <option value="10">10Ïõî</option>
                        <option value="11">11Ïõî</option>
                        <option value="12">12Ïõî</option>
                    </select>
                </div>
                
                <div class="progress-container" id="downloadProgress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="downloadProgressBar"></div>
                    </div>
                    <p id="downloadStatusText" class="progress-text">Í≤¨Ï†ÅÏÑúÎ•º Í≤ÄÏÉâÌïòÍ≥† ÏûàÏäµÎãàÎã§...</p>
                </div>
                
                <div class="download-preview" id="downloadPreview" style="display: none;">
                    <h4>üìã Îã§Ïö¥Î°úÎìú ÏòàÏ†ï Î™©Î°ù</h4>
                    <div id="downloadPreviewList"></div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeMonthlyEstimateModal()">
                    <i class="fas fa-times"></i>
                    Ï∑®ÏÜå
                </button>
                <button type="button" class="btn btn-primary" onclick="downloadMonthlyEstimates()">
                    <i class="fas fa-download"></i>
                    Îã§Ïö¥Î°úÎìú
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="notification-container"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- JSZip for ZIP file generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>
</html> 